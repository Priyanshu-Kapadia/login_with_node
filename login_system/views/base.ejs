<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
    <div class="text-center center-div" id="login">
        <div class="container w-25 border py-5">
            <div class="title pb-5">
                <h2 class="font-weight-bold">Login system</h2>
                <span>Login for exisiting user </span>

            </div>
            <form method="post" action="login">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" class="form-control" id="username" placeholder="Enter username">
                </div>
                <br>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" class="form-control" id="password" placeholder="Enter password">
                </div>
                <br>
                <button OnClick="handlesubmit()" class="btn btn-primary rounded-pill">Login</button>
            </form>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script>

        const handlesubmit = async () => {
            debugger
            // const zxc = {
            //     username: document.getElementById('username').value,
            //     password: document.getElementById('password').value
            // }
            // console.log('zxc' , zxc)
            // $.ajax({
            //     type: "POST",
            //     url: "http://localhost:3001/login",
            //     data: zxc,
            //     success: function (response) {
            //         //if request if made successfully then the response represent the data

            //         console.log(response);
            //     },
            //     error: function (error) {
            //         //if request is not made successfully then the error represent the error
            //         console.log(error);
            //     },
            //     dataType: "jsonp"
            // });

    //             var apiUrl = 'http://localhost:3001/login';
    //    var abc = fetch(apiUrl).then(response => {
    //     // return response.json();
    //     // Work with JSON data here
    //     console.log(response);
    //     return response;
    //     }).catch(err => {
    //     // Do something for an error here
    //     });
    const params = {
        username: value1,
        password: value2; 
};
const options = {
    method: 'POST',
    body: JSON.stringify( params )  
};
fetch( 'http://localhost:3001/login', options )
    .then( response => response.json() )
    .then( response => {
        // Do something with response.
    } );

            // let data = await fetch('http://localhost:3001/login', {
            //     method: 'POST',
            //     mode:'cors',
            //     cache:"no-cache",
            //     credentials: "same-origin",
            //     redirect: "follow",
            //     referrerPolicy: "no-referrer",
            //     body: JSON.stringify(zxc)
            // });
            console.log("apiUrl",apiUrl);
            // const result = await abc.json();
            // console.log(result);
            // console.log(data);
        }
    </script>
</body>

</html>